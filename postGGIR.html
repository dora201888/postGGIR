<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Wei Guo" />

<meta name="date" content="2021-05-06" />

<title>postGGIR</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>
<script src="data:application/javascript;base64,JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsKICAgIGlmICh0eXBlb2YgJCgnW2RhdGEtdG9nZ2xlPSJ0b29sdGlwIl0nKS50b29sdGlwID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgJCgnW2RhdGEtdG9nZ2xlPSJ0b29sdGlwIl0nKS50b29sdGlwKCk7CiAgICB9CiAgICBpZiAoJCgnW2RhdGEtdG9nZ2xlPSJwb3BvdmVyIl0nKS5wb3BvdmVyID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgJCgnW2RhdGEtdG9nZ2xlPSJwb3BvdmVyIl0nKS5wb3BvdmVyKCk7CiAgICB9Cn0pOwo="></script>
<link href="data:text/css,%0A%2Elightable%2Dminimal%20%7B%0Aborder%2Dcollapse%3A%20separate%3B%0Aborder%2Dspacing%3A%2016px%201px%3B%0Awidth%3A%20100%25%3B%0Amargin%2Dbottom%3A%2010px%3B%0A%7D%0A%2Elightable%2Dminimal%20td%20%7B%0Amargin%2Dleft%3A%205px%3B%0Amargin%2Dright%3A%205px%3B%0A%7D%0A%2Elightable%2Dminimal%20th%20%7B%0Amargin%2Dleft%3A%205px%3B%0Amargin%2Dright%3A%205px%3B%0A%7D%0A%2Elightable%2Dminimal%20thead%20tr%3Alast%2Dchild%20th%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%2300000050%3B%0Aempty%2Dcells%3A%20hide%3B%0A%7D%0A%2Elightable%2Dminimal%20tbody%20tr%3Afirst%2Dchild%20td%20%7B%0Apadding%2Dtop%3A%200%2E5em%3B%0A%7D%0A%2Elightable%2Dminimal%2Elightable%2Dhover%20tbody%20tr%3Ahover%20%7B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0A%7D%0A%2Elightable%2Dminimal%2Elightable%2Dstriped%20tbody%20tr%3Anth%2Dchild%28even%29%20%7B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0A%7D%0A%2Elightable%2Dclassic%20%7B%0Aborder%2Dtop%3A%200%2E16em%20solid%20%23111111%3B%0Aborder%2Dbottom%3A%200%2E16em%20solid%20%23111111%3B%0Awidth%3A%20100%25%3B%0Amargin%2Dbottom%3A%2010px%3B%0Amargin%3A%2010px%205px%3B%0A%7D%0A%2Elightable%2Dclassic%20tfoot%20tr%20td%20%7B%0Aborder%3A%200%3B%0A%7D%0A%2Elightable%2Dclassic%20tfoot%20tr%3Afirst%2Dchild%20td%20%7B%0Aborder%2Dtop%3A%200%2E14em%20solid%20%23111111%3B%0A%7D%0A%2Elightable%2Dclassic%20caption%20%7B%0Acolor%3A%20%23222222%3B%0A%7D%0A%2Elightable%2Dclassic%20td%20%7B%0Apadding%2Dleft%3A%205px%3B%0Apadding%2Dright%3A%205px%3B%0Acolor%3A%20%23222222%3B%0A%7D%0A%2Elightable%2Dclassic%20th%20%7B%0Apadding%2Dleft%3A%205px%3B%0Apadding%2Dright%3A%205px%3B%0Afont%2Dweight%3A%20normal%3B%0Acolor%3A%20%23222222%3B%0A%7D%0A%2Elightable%2Dclassic%20thead%20tr%3Alast%2Dchild%20th%20%7B%0Aborder%2Dbottom%3A%200%2E10em%20solid%20%23111111%3B%0A%7D%0A%2Elightable%2Dclassic%2Elightable%2Dhover%20tbody%20tr%3Ahover%20%7B%0Abackground%2Dcolor%3A%20%23F9EEC1%3B%0A%7D%0A%2Elightable%2Dclassic%2Elightable%2Dstriped%20tbody%20tr%3Anth%2Dchild%28even%29%20%7B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%20%7B%0Aborder%2Dtop%3A%203px%20double%20%23111111%3B%0Aborder%2Dbottom%3A%203px%20double%20%23111111%3B%0Awidth%3A%20100%25%3B%0Amargin%2Dbottom%3A%2010px%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%20tfoot%20tr%20td%20%7B%0Aborder%3A%200%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%20tfoot%20tr%3Afirst%2Dchild%20td%20%7B%0Aborder%2Dtop%3A%203px%20double%20%23111111%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%20caption%20%7B%0Acolor%3A%20%23222222%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%20td%20%7B%0Apadding%2Dleft%3A%205px%3B%0Apadding%2Dright%3A%205px%3B%0Acolor%3A%20%23222222%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%20th%20%7B%0Apadding%2Dleft%3A%205px%3B%0Apadding%2Dright%3A%205px%3B%0Afont%2Dweight%3A%20normal%3B%0Acolor%3A%20%23222222%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%20tbody%20tr%3Alast%2Dchild%20td%20%7B%0Aborder%2Dbottom%3A%203px%20double%20%23111111%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%20thead%20tr%3Alast%2Dchild%20th%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23111111%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%2Elightable%2Dhover%20tbody%20tr%3Ahover%20%7B%0Abackground%2Dcolor%3A%20%23F9EEC1%3B%0A%7D%0A%2Elightable%2Dclassic%2D2%2Elightable%2Dstriped%20tbody%20tr%3Anth%2Dchild%28even%29%20%7B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0A%7D%0A%2Elightable%2Dmaterial%20%7B%0Amin%2Dwidth%3A%20100%25%3B%0Awhite%2Dspace%3A%20nowrap%3B%0Atable%2Dlayout%3A%20fixed%3B%0Afont%2Dfamily%3A%20Roboto%2C%20sans%2Dserif%3B%0Aborder%3A%201px%20solid%20%23EEE%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0Amargin%2Dbottom%3A%2010px%3B%0A%7D%0A%2Elightable%2Dmaterial%20tfoot%20tr%20td%20%7B%0Aborder%3A%200%3B%0A%7D%0A%2Elightable%2Dmaterial%20tfoot%20tr%3Afirst%2Dchild%20td%20%7B%0Aborder%2Dtop%3A%201px%20solid%20%23EEE%3B%0A%7D%0A%2Elightable%2Dmaterial%20th%20%7B%0Aheight%3A%2056px%3B%0Apadding%2Dleft%3A%2016px%3B%0Apadding%2Dright%3A%2016px%3B%0A%7D%0A%2Elightable%2Dmaterial%20td%20%7B%0Aheight%3A%2052px%3B%0Apadding%2Dleft%3A%2016px%3B%0Apadding%2Dright%3A%2016px%3B%0Aborder%2Dtop%3A%201px%20solid%20%23eeeeee%3B%0A%7D%0A%2Elightable%2Dmaterial%2Elightable%2Dhover%20tbody%20tr%3Ahover%20%7B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0A%7D%0A%2Elightable%2Dmaterial%2Elightable%2Dstriped%20tbody%20tr%3Anth%2Dchild%28even%29%20%7B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0A%7D%0A%2Elightable%2Dmaterial%2Elightable%2Dstriped%20tbody%20td%20%7B%0Aborder%3A%200%3B%0A%7D%0A%2Elightable%2Dmaterial%2Elightable%2Dstriped%20thead%20tr%3Alast%2Dchild%20th%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ddd%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%20%7B%0Amin%2Dwidth%3A%20100%25%3B%0Awhite%2Dspace%3A%20nowrap%3B%0Atable%2Dlayout%3A%20fixed%3B%0Afont%2Dfamily%3A%20Roboto%2C%20sans%2Dserif%3B%0Aborder%3A%201px%20solid%20%23FFFFFF12%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0Amargin%2Dbottom%3A%2010px%3B%0Abackground%2Dcolor%3A%20%23363640%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%20tfoot%20tr%20td%20%7B%0Aborder%3A%200%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%20tfoot%20tr%3Afirst%2Dchild%20td%20%7B%0Aborder%2Dtop%3A%201px%20solid%20%23FFFFFF12%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%20th%20%7B%0Aheight%3A%2056px%3B%0Apadding%2Dleft%3A%2016px%3B%0Apadding%2Dright%3A%2016px%3B%0Acolor%3A%20%23FFFFFF60%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%20td%20%7B%0Aheight%3A%2052px%3B%0Apadding%2Dleft%3A%2016px%3B%0Apadding%2Dright%3A%2016px%3B%0Acolor%3A%20%23FFFFFF%3B%0Aborder%2Dtop%3A%201px%20solid%20%23FFFFFF12%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%2Elightable%2Dhover%20tbody%20tr%3Ahover%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF12%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%2Elightable%2Dstriped%20tbody%20tr%3Anth%2Dchild%28even%29%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF12%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%2Elightable%2Dstriped%20tbody%20td%20%7B%0Aborder%3A%200%3B%0A%7D%0A%2Elightable%2Dmaterial%2Ddark%2Elightable%2Dstriped%20thead%20tr%3Alast%2Dchild%20th%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23FFFFFF12%3B%0A%7D%0A%2Elightable%2Dpaper%20%7B%0Awidth%3A%20100%25%3B%0Amargin%2Dbottom%3A%2010px%3B%0Acolor%3A%20%23444%3B%0A%7D%0A%2Elightable%2Dpaper%20tfoot%20tr%20td%20%7B%0Aborder%3A%200%3B%0A%7D%0A%2Elightable%2Dpaper%20tfoot%20tr%3Afirst%2Dchild%20td%20%7B%0Aborder%2Dtop%3A%201px%20solid%20%2300000020%3B%0A%7D%0A%2Elightable%2Dpaper%20thead%20tr%3Alast%2Dchild%20th%20%7B%0Acolor%3A%20%23666%3B%0Avertical%2Dalign%3A%20bottom%3B%0Aborder%2Dbottom%3A%201px%20solid%20%2300000020%3B%0Aline%2Dheight%3A%201%2E15em%3B%0Apadding%3A%2010px%205px%3B%0A%7D%0A%2Elightable%2Dpaper%20td%20%7B%0Avertical%2Dalign%3A%20middle%3B%0Aborder%2Dbottom%3A%201px%20solid%20%2300000010%3B%0Aline%2Dheight%3A%201%2E15em%3B%0Apadding%3A%207px%205px%3B%0A%7D%0A%2Elightable%2Dpaper%2Elightable%2Dhover%20tbody%20tr%3Ahover%20%7B%0Abackground%2Dcolor%3A%20%23F9EEC1%3B%0A%7D%0A%2Elightable%2Dpaper%2Elightable%2Dstriped%20tbody%20tr%3Anth%2Dchild%28even%29%20%7B%0Abackground%2Dcolor%3A%20%2300000008%3B%0A%7D%0A%2Elightable%2Dpaper%2Elightable%2Dstriped%20tbody%20td%20%7B%0Aborder%3A%200%3B%0A%7D%0A" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">postGGIR</h1>
<h4 class="author">Wei Guo</h4>
<h4 class="date">May 06, 2021</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<div id="what-is-ggir" class="section level2">
<h2>What is GGIR?</h2>
<p><a href="https://CRAN.R-project.org/package=GGIR">GGIR</a> is an R-package to process multi-day raw accelerometer data for physical activity and sleep research. GGIR will write all output files into two sub-directories of ./meta and ./results. GGIR is increasingly being used by a number of academic institutes across the world.</p>
</div>
<div id="what-is-postggir" class="section level2">
<h2>What is postGGIR?</h2>
<p><a href="https://CRAN.R-project.org/package=postGGIR">postGGIR</a> is an R-package to data processing after running GGIR for accelerometer data. In detail, all necessary R/Rmd/shell files were generated for data processing after running GGIR for accelerometer data. Then in part 1, all csv files in the GGIR output directory were read, transformed and then merged. In part 2, the GGIR output files were checked and summarized in one excel sheet. In part 3, the merged data was cleaned according to the number of valid hours on each night and the number of valid days for each subject. In part 4, the cleaned activity data was imputed by the average ENMO over all the valid days for each subject. Finally, a comprehensive report of data processing was created using Rmarkdown, and the report includes few explortatory plots and multiple commonly used features extracted from minute level actigraphy data in part 5-7. This vignette provides a general introduction to postGGIR.</p>
</div>
</div>
<div id="setting-up-your-work-environment" class="section level1">
<h1>Setting up your work environment</h1>
<div id="install-r-and-rstudio" class="section level2">
<h2>Install R and RStudio</h2>
<p><a href="https://cran.r-project.org/">Download and install R</a></p>
<p><a href="https://www.rstudio.com/products/rstudio">Download and install RStudio</a> (optional, but recommended)</p>
<p>Download GGIR with its dependencies, you can do this with one command from the console command line:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;postGGIR&quot;</span>, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="prepare-folder-structure" class="section level2">
<h2>Prepare folder structure</h2>
<ol style="list-style-type: decimal">
<li>folder of .bin files for GGIR or a file listing all .bin files
<ul>
<li>R program will check the missing in the GGIR output by comparing with all raw .bin files</li>
</ul></li>
<li>foder of the GGIR output with two sub-folders
<ul>
<li>meta (./basic, ./csv, etc)<br />
</li>
<li>results (part<em>summary</em>.csv)</li>
</ul></li>
</ol>
</div>
</div>
<div id="quick-start" class="section level1">
<h1>Quick start</h1>
<div id="create-a-template-shell-script-of-postggir" class="section level2">
<h2>Create a template shell script of postGGIR</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(postGGIR)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">create.postGGIR</span>()</span></code></pre></div>
<p>The function will create a template shell script of postGGIR in the current directory, names as <em>STUDYNAME_part0.maincall.R</em>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> STUDYNAME_part0.maincall.R</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">width=</span><span class="dv">2000</span>) </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>argv <span class="ot">=</span> <span class="fu">commandArgs</span>(<span class="cn">TRUE</span>);  </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(argv) </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;length=&quot;</span>,<span class="fu">length</span>(argv),<span class="at">sep=</span><span class="st">&quot;&quot;</span>))  </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>mode<span class="ot">&lt;-</span><span class="fu">as.numeric</span>(argv[<span class="dv">1</span>])  </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">c</span>(<span class="st">&quot;mode =&quot;</span>, mode))</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="do">#########################################################################  </span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># (user-define 1) you got to redefine this according different study!!!!</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="do">######################################################################### </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># colaus </span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>filename2id<span class="fl">.1</span><span class="ot">&lt;-</span><span class="cf">function</span>(x) {</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  y1<span class="ot">&lt;-</span><span class="fu">unlist</span>(<span class="fu">strsplit</span>(x,<span class="st">&quot;</span><span class="sc">\\</span><span class="st">_&quot;</span>))[<span class="dv">1</span>]</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  y2<span class="ot">&lt;-</span><span class="fu">unlist</span>(<span class="fu">strsplit</span>(y1,<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>))[<span class="dv">1</span>]</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(y2)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># nimh (use csv file =c(&quot;filename&quot;,&quot;ggirID&quot;)) </span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>filename2id<span class="fl">.2</span><span class="ot">&lt;-</span><span class="cf">function</span>(x) {</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  d<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">&quot;./postGGIR/inst/example/filename2id.csv&quot;</span>,<span class="at">head=</span><span class="dv">1</span>,<span class="at">stringsAsFactors=</span>F)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  y1<span class="ot">&lt;-</span><span class="fu">which</span>(d[,<span class="st">&quot;filename&quot;</span>]<span class="sc">==</span>x)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(y1)<span class="sc">==</span><span class="dv">0</span>) <span class="fu">stop</span>(<span class="fu">paste</span>(<span class="st">&quot;Missing &quot;</span>,x,<span class="st">&quot; in filename2id.csv file&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>))</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(y1)<span class="sc">&gt;=</span><span class="dv">1</span>) y2<span class="ot">&lt;-</span>d[y1[<span class="dv">1</span>],<span class="st">&quot;newID&quot;</span>] </span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">as.character</span>(y2))</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="do">#########################################################################  </span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="co">#  main call</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="do">######################################################################### </span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>call.afterggir<span class="ot">&lt;-</span><span class="cf">function</span>(mode,<span class="at">rmDup=</span><span class="cn">FALSE</span>,<span class="at">filename2id=</span>filename2id<span class="fl">.1</span>){ </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(postGGIR) </span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="do">#################################################   </span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co"># (user-define 2) Fill in parameters of your ggir output</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="do">#################################################  </span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>currentdir <span class="ot">=</span> </span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>studyname <span class="ot">=</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>bindir <span class="ot">=</span> </span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>outputdir <span class="ot">=</span> </span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>epochIn <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>epochOut <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>flag.epochOut <span class="ot">=</span> <span class="dv">60</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>use.cluster <span class="ot">=</span> <span class="cn">FALSE</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>log.multiplier <span class="ot">=</span> <span class="dv">9250</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>QCdays.alpha <span class="ot">=</span> <span class="dv">7</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>QChours.alpha <span class="ot">=</span> <span class="dv">16</span> </span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>useIDs.FN<span class="ot">&lt;-</span><span class="cn">NULL</span> </span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(currentdir) </span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a><span class="do">#########################################################################  </span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="co">#   remove duplicate sample IDs for plotting and feature extraction </span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a><span class="do">######################################################################### </span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (mode<span class="sc">==</span><span class="dv">3</span> <span class="sc">&amp;</span> rmDup){</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a><span class="co"># step 1: read ./summary/*remove_temp.csv file (output of mode=2)</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>keep.last<span class="ot">&lt;-</span><span class="cn">TRUE</span> <span class="co">#keep the latest visit for each sample</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>sumdir<span class="ot">&lt;-</span><span class="fu">paste</span>(currentdir,<span class="st">&quot;/summary&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>)  </span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(sumdir)  </span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>inFN<span class="ot">&lt;-</span><span class="fu">paste</span>(studyname,<span class="st">&quot;_samples_remove_temp.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>useIDs.FN<span class="ot">&lt;-</span><span class="fu">paste</span>(sumdir,<span class="st">&quot;/&quot;</span>,studyname,<span class="st">&quot;_samples_remove.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>)  </span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a><span class="do">#################################################   </span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a><span class="co"># (user-define 3 as rmDup=TRUE)  create useIDs.FN file</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a><span class="do">#################################################  </span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a><span class="co"># step 2: create the ./summary/*remove.csv file manually or by R commands</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span><span class="fu">read.csv</span>(inFN,<span class="at">head=</span><span class="dv">1</span>,<span class="at">stringsAsFactors=</span>F)</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[<span class="fu">order</span>(d[,<span class="st">&quot;Date&quot;</span>]),]</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[<span class="fu">order</span>(d[,<span class="st">&quot;newID&quot;</span>]),]</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>d[<span class="fu">which</span>(<span class="fu">is.na</span>(d[,<span class="st">&quot;newID&quot;</span>])),]</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>S<span class="ot">&lt;-</span><span class="fu">duplicated</span>(d[,<span class="st">&quot;newID&quot;</span>],<span class="at">fromLast=</span>keep.last) <span class="co">#keep the last copy for nccr</span></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>d[S,<span class="st">&quot;duplicate&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;remove&quot;</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(d,<span class="at">file=</span>useIDs.FN,<span class="at">row.names=</span>F) </span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>}  </span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a><span class="do">#########################################################################  </span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a><span class="co">#  maincall</span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a><span class="do">#########################################################################  </span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(currentdir)  </span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a><span class="fu">afterggir</span>(<span class="at">mode=</span>mode,useIDs.FN,currentdir,studyname,bindir,</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>outputdir,epochIn,epochOut,flag.epochOut,log.multiplier,use.cluster,<span class="at">QCdays.alpha=</span>QCdays.alpha,<span class="at">QChours.alpha=</span>QChours.alpha,<span class="at">Rversion=</span><span class="st">&quot;R/3.6.3&quot;</span>,<span class="at">filename2id=</span>filename2id) </span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a><span class="do">##############################################</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a><span class="fu">call.afterggir</span>(mode)   </span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a><span class="do">##############################################  </span></span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a><span class="co">#   Note:   call.afterggir(mode=0)</span></span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a><span class="co">#        mode =0 : creat sw/Rmd file</span></span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a><span class="co">#        mode =1 : data transform using cluster or not</span></span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a><span class="co">#        mode =2 : summary</span></span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a><span class="co">#        mode =3 : clean </span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a><span class="co">#        mode =4 : impu</span></span></code></pre></div>
</div>
<div id="edit-shell-script" class="section level2">
<h2>Edit shell script</h2>
<p>Three places were marked as “user-define” and need to be edited by user in the <em>STUDYNAME_part0.maincall.R</em> file. Please rename the file by replacing your real studyname after the edition.</p>
<div id="define-the-function-filename2id" class="section level3">
<h3>1. Define the function filename2id( )</h3>
<p>This user-defined function will change the filename of the raw accelerometer file to the short ID. For example, the first example change &quot;0002__026907_2016-03-11 13-05-59.bin&quot; to new ID of “0002”. If you prefer to define new ID by other way, you could create a .CSV file including “filename” and “newID” at least and then defined this function as the second example. The new variable of “newID”, included in the output files, could be used as the key ID in the summary report of postGGIR and be used to define the duplicate samples as well.</p>
</div>
<div id="parameters-of-shell-script" class="section level3">
<h3>2. Parameters of shell script</h3>
<p>User needs to define the following parameters as follows,</p>
<table>
<colgroup>
<col width="24%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th>Variables</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>currentdir</td>
<td>Directory where the output needs to be stored. Note that this directory must exist</td>
</tr>
<tr class="even">
<td>studyname</td>
<td>Specify the study name that used in the output file names. Give this variable an appropriate name as it will be used later to specify output file names.</td>
</tr>
<tr class="odd">
<td>bindir</td>
<td>Directory where the accelerometer files are stored or list</td>
</tr>
<tr class="even">
<td>binfile.list</td>
<td>File list of bin files when running GGIR. Default is NULL, but it has to be a filename in the .csv format when bindir=NULL.</td>
</tr>
<tr class="odd">
<td>outputdir</td>
<td>Directory where the GGIR output was stored.</td>
</tr>
<tr class="even">
<td>epochIn</td>
<td>Epoch size to which acceleration was averaged (seconds) in GGIR output. Defaut is 5 seconds.</td>
</tr>
<tr class="odd">
<td>epochOut</td>
<td>Epoch size to which acceleration was averaged (seconds) in part1. Defaut is 5 seconds.</td>
</tr>
<tr class="even">
<td>flag.epochOut</td>
<td>Epoch size to which acceleration was averaged (seconds) in part 3. Defaut is 60 seconds.</td>
</tr>
<tr class="odd">
<td>log.multiplier</td>
<td>The coefficient used in the log transformation of the ENMO data, i.e. log( log.multiplier * ENMO + 1), which have been used in part2a_postGGIR.report and part5. Defaut is 9250.</td>
</tr>
<tr class="even">
<td>use.cluster</td>
<td>Specify if part1 will be done by parallel computing. Default is TRUE, and the CSV file in GGIR output will be merged for every 20 files first, and then combined for all.</td>
</tr>
<tr class="odd">
<td>QCdays.alpha</td>
<td>Minimum required number of valid days in subject specific analysis as a quality control step in part2. Default is 7 days.</td>
</tr>
<tr class="even">
<td>QChours.alpha</td>
<td>Minimum required number of valid hours in day specific analysis as a quality control step in part2. Default is 16 hours.</td>
</tr>
</tbody>
</table>
</div>
<div id="subset-of-samples-optional" class="section level3">
<h3>3. Subset of samples (optional)</h3>
<p>The postGGIR package not only simply transform/merge the activity and sleep data, but it also can do some prelimary data analysis such as principle componet analysis and feature extraction. Therefore, the basic data clean will be processed first as follows,</p>
<ul>
<li>data clean by removing valid days/samples defined by minimum required number of valid hours/days in the activity data<br />
</li>
<li>remove duplicate samples</li>
</ul>
<p>If you prefer to use all samples, just skip this part and use <code>rmDup=FALSE</code> as the default. Otherwise, if you want to remove some samples such as duplicates, there are two ways as follows,</p>
<ul>
<li>Edit R codes of “step 2” in this part. For example, the template will keep the later copy for duplicate samples<br />
</li>
<li>Remove R codes of “step 2” in this part, and create <em>studyname_samples_remove.csv</em> file by filling “remove” in the “duplicate” column in the template file of <em>studyname_samples_remove_temp.csv</em>. The data will be kept unless duplicate=“remove”.</li>
</ul>
</div>
</div>
<div id="run-r-script" class="section level2">
<h2>Run R script</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">call.afterggir</span>(mode,<span class="at">rmDup=</span><span class="cn">FALSE</span>)   </span></code></pre></div>
<table>
<colgroup>
<col width="24%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th>Variables</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>rmDup</td>
<td>Set rmDup = TRUE if user want to remove some samples such as duplicates. Set rmDup = FALSE if user want to keep all samples.</td>
</tr>
<tr class="even">
<td>mode</td>
<td>Specify which of the five parts need to be run, e.g. mode = 0 makes that all R/Rmd/sh files are generated for other parts. When mode = 1, all csv files in the GGIR output directory were read, transformed and then merged. When mode = 2, the GGIR output files were checked and summarized in one excel sheet. When mode = 3, the merged data was cleaned according to the number of valid hours on each night and the number of valid days for each subject. When mode = 4, the cleaned data was imputed.</td>
</tr>
</tbody>
</table>
</div>
<div id="run-script-in-a-cluster" class="section level2">
<h2>Run script in a cluster</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#$ -cwd</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#$ -j y</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#$ -S /bin/bash</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  source <span class="sc">~</span><span class="er">/</span>.bash_profile</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>   cd <span class="sc">/</span>postGGIR<span class="sc">/</span>inst<span class="sc">/</span>example<span class="sc">/</span>afterGGIR; </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>   module load R ; </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">--</span>no<span class="sc">-</span>save <span class="sc">--</span>no<span class="sc">-</span>restore <span class="sc">--</span>args  <span class="sc">&lt;</span> studyname_ggir9s_postGGIR.pipeline.maincall.R  <span class="dv">0</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">--</span>no<span class="sc">-</span>save <span class="sc">--</span>no<span class="sc">-</span>restore <span class="sc">--</span>args  <span class="sc">&lt;</span> studyname_ggir9s_postGGIR.pipeline.maincall.R  <span class="dv">1</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">--</span>no<span class="sc">-</span>save <span class="sc">--</span>no<span class="sc">-</span>restore <span class="sc">--</span>args  <span class="sc">&lt;</span> studyname_ggir9s_postGGIR.pipeline.maincall.R  <span class="dv">2</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">--</span>no<span class="sc">-</span>save <span class="sc">--</span>no<span class="sc">-</span>restore <span class="sc">--</span>args  <span class="sc">&lt;</span> studyname_ggir9s_postGGIR.pipeline.maincall.R  <span class="dv">3</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">--</span>no<span class="sc">-</span>save <span class="sc">--</span>no<span class="sc">-</span>restore <span class="sc">--</span>args  <span class="sc">&lt;</span> studyname_ggir9s_postGGIR.pipeline.maincall.R  <span class="dv">4</span> </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">-</span>e <span class="st">&quot;rmarkdown::render(&#39;part5_studyname_postGGIR.report.Rmd&#39;   )&quot;</span> </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">-</span>e <span class="st">&quot;rmarkdown::render(&#39;part6_studyname_postGGIR.nonwear.report.Rmd&#39;   )&quot;</span> </span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">-</span>e <span class="st">&quot;rmarkdown::render(&#39;part7a_studyname_postGGIR_JIVE_1_somefeatures.Rmd&#39;   )&quot;</span> </span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">-</span>e <span class="st">&quot;rmarkdown::render(&#39;part7b_studyname_postGGIR_JIVE_2_allfeatures.Rmd&#39;   )&quot;</span> </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>     R <span class="sc">-</span>e <span class="st">&quot;rmarkdown::render(&#39;part7c_studyname_postGGIR_JIVE_3_excelReport.Rmd&#39;   )&quot;</span> </span></code></pre></div>
</div>
</div>
<div id="inspecting-the-results" class="section level1">
<h1>Inspecting the results</h1>
<div id="output-of-part-0" class="section level2">
<h2>Output of part 0</h2>
<ul>
<li>Command = call.afterggir(mode=0)</li>
<li>Output folder = ./</li>
</ul>
<table>
<colgroup>
<col width="22%" />
<col width="77%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>part1_data.transform.R (use.cluster=TRUE, optional)</td>
<td>R code for data transformation and merge for every 20 files in each partition. When the number of .bin files is large ( &gt; 1000), the data merge could take long time, user could split the job and submit the job to a cluster for parallel computing.</td>
</tr>
<tr class="even">
<td>part1_data.transform.sw (use.cluster=TRUE, optional)</td>
<td>Submit the job to a cluster for parallel computing</td>
</tr>
<tr class="odd">
<td>part1_data.transform.merge.sw (use.cluster=TRUE, optional)</td>
<td>Merge all partitions for the ENMO and ANGLEZ data</td>
</tr>
<tr class="even">
<td>part5_studyname_postGGIR.report.Rmd</td>
<td>R markdown file for generate a comprehensive report of data processing and explortatory plots.</td>
</tr>
<tr class="odd">
<td>part6_studyname_postGGIR.nonwear.report.Rmd</td>
<td>R markdown file for generate a report of nonwear score.</td>
</tr>
<tr class="even">
<td>part7a_studyname_postGGIR_JIVE_1_somefeatures.Rmd</td>
<td>Extract some features from the actigraphy data using R</td>
</tr>
<tr class="odd">
<td>part7b_studyname_postGGIR_JIVE_2_allfeatures.Rmd</td>
<td>Extract other features from the GGIR output and merge all features together</td>
</tr>
<tr class="even">
<td>part7c_studyname_postGGIR_JIVE_3_excelReport.Rmd</td>
<td>Combine all features into one single excel file. This is optional since it might be killed due to the issue of out of memory in a cluster.</td>
</tr>
<tr class="odd">
<td>part7d_studyname_postGGIR_JIVE_4_outputReport.Rmd</td>
<td>Perform JIVE Decomposition for All Features using r.jive</td>
</tr>
<tr class="even">
<td>part9_swarm.sh</td>
<td>shell script to submit all jobs to the cluster</td>
</tr>
</tbody>
</table>
</div>
<div id="output-of-part-1" class="section level2">
<h2>Output of part 1</h2>
<ul>
<li>Command = call.afterggir(mode=1)</li>
<li>Output folder = ./data</li>
</ul>
<table>
<colgroup>
<col width="26%" />
<col width="73%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>studyname_filesummary_csvlist.csv</td>
<td>File list in the ./csv folder of GGIR</td>
</tr>
<tr class="even">
<td>studyname_filesummary_Rdatalist.csv</td>
<td>File list in the ./basic folder of GGIR</td>
</tr>
<tr class="odd">
<td>All_studyname_ANGLEZ.data.csv</td>
<td>Raw data of ANGLEZ after merge</td>
</tr>
<tr class="even">
<td>All_studyname_ENMO.data.csv</td>
<td>Raw data of ENMO after merge</td>
</tr>
<tr class="odd">
<td>nonwearscore_studyname_f0_f1_Xs.csv</td>
<td>Data matrix of nonwearscore</td>
</tr>
<tr class="even">
<td>nonwearscore_studyname_f0_f1_Xs.pdf</td>
<td>Plots for nonwearscore</td>
</tr>
<tr class="odd">
<td>plot.nonwearVSnvalidhours.csv</td>
<td>Nonwear data for plot</td>
</tr>
<tr class="even">
<td>plot.nonwearVSnvalidhours.pdf</td>
<td>Nonwear plots</td>
</tr>
<tr class="odd">
<td>lightmean_studyname_f0_f1_Xs.csv</td>
<td>Data matrix of lightmean</td>
</tr>
<tr class="even">
<td>lightpeak_studyname_f0_f1_Xs.csv</td>
<td>Data matrix of lightpeak</td>
</tr>
<tr class="odd">
<td>temperaturemean_studyname_f0_f1_Xs.csv</td>
<td>Data matrix of temperaturemean</td>
</tr>
<tr class="even">
<td>clippingscore_studyname_f0_f1_Xs.csv</td>
<td>Raw data of clippingscore</td>
</tr>
<tr class="odd">
<td>EN_studyname_f0_f1_Xs.csv</td>
<td>Data matrix of EN</td>
</tr>
</tbody>
</table>
<p><em>f0 and f1 are the file index to start and finish with<br />
</em>Xs is the epoch size to which acceleration was averaged (seconds) in GGIR output</p>
</div>
<div id="output-of-part-2" class="section level2">
<h2>Output of part 2</h2>
<ul>
<li>Command = call.afterggir(mode=1)</li>
<li>Output folder = ./summary</li>
</ul>
<table>
<colgroup>
<col width="25%" />
<col width="74%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>studyname_ggir_output_summary.xlsx</td>
<td>Description of all accelerometer files in the GGIR output. This excel file includs 9 pages as follows, (1) List of files in the GGIR output (2) Summary of files (3) List of duplicate IDs (4) ID errors (5) Number of valid days (6) Table of number of valid/missing days (7) Missing patten (8) Frequency of the missing pattern (9) Description of all accelerometer files.</td>
</tr>
<tr class="even">
<td>part2daysummary.info.csv</td>
<td>Intermediate results for description of each accelerometer file.</td>
</tr>
<tr class="odd">
<td>studyname_ggir_output_summary_plot.pdf</td>
<td>Some plots such as the number of valid days, which were included in the part2a_studyname_postGGIR.report.html file as well.</td>
</tr>
<tr class="even">
<td>studyname_samples_remove_temp.csv</td>
<td>Create studyname_samples_remove.csv file by filling “remove” in the “duplicate” column in this template. If duplicate=“remove”, the accelerometer files will not be used in the data analysis of part5.</td>
</tr>
</tbody>
</table>
</div>
<div id="output-of-part-3" class="section level2">
<h2>Output of part 3</h2>
<ul>
<li>Command = call.afterggir(mode=1)</li>
<li>Output folder = ./data</li>
</ul>
<table>
<colgroup>
<col width="26%" />
<col width="73%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>flag_All_studyname_ANGLEZ.data.Xs.csv</td>
<td>Adding flags for data cleaning of the raw ANGLEZ data</td>
</tr>
<tr class="even">
<td>flag_All_studyname_ENMO.data.Xs.csv</td>
<td>Adding flags for data cleaning of the raw ENMO data</td>
</tr>
<tr class="odd">
<td>IDMatrix.flag_All_studyname_ENMO.data.60s.csv</td>
<td>ID matrix</td>
</tr>
</tbody>
</table>
<p>*Xs is the epoch size to which acceleration was averaged (seconds) in GGIR output</p>
</div>
<div id="output-of-part-4" class="section level2">
<h2>Output of part 4</h2>
<ul>
<li>Command = call.afterggir(mode=1)</li>
<li>Output folder = ./data</li>
</ul>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>impu.flag_All_studyname_ENMO.data.60s.csv</td>
<td>Imputation data for the merged ENMO data, and the missing values were imputated by the average ENMO over all the valid days for each subject.</td>
</tr>
</tbody>
</table>
</div>
<div id="output-of-part-5" class="section level2">
<h2>Output of part 5</h2>
<ul>
<li>Command = part5_studyname_postGGIR.report.Rmd</li>
<li>Output folder = ./</li>
</ul>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>part5_studyname_postGGIR.report.html</td>
<td>A comprehensive report of data processing and explortatory plots.</td>
</tr>
</tbody>
</table>
</div>
<div id="output-of-part-6" class="section level2">
<h2>Output of part 6</h2>
<ul>
<li>Command = part6_studyname_postGGIR.nonwear.report.Rmd</li>
<li>Output folder = ./</li>
</ul>
<table>
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="74%" />
</colgroup>
<thead>
<tr class="header">
<th>Folder</th>
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>./</td>
<td>part6_studyname_postGGIR.nonwear.report.html</td>
<td>A report of nonwear score.</td>
</tr>
<tr class="even">
<td>./data</td>
<td>JIVEraw_nonwearscore_studyname_f0_f1_Xs.csv</td>
<td>Imputation data matrix of nonwearscore (1/0)</td>
</tr>
<tr class="odd">
<td>./data</td>
<td>JIVEimpu_nonwearscore_studyname_f0_f1_Xs.csv</td>
<td>Data matrix of nonwearscore (1/0/NA)</td>
</tr>
</tbody>
</table>
<p><em>f0 and f1 are the file index to start and finish with<br />
</em>Xs is the epoch size to which acceleration was averaged (seconds) in GGIR output</p>
</div>
<div id="output-of-part-7a" class="section level2">
<h2>Output of part 7a</h2>
<ul>
<li>Command = part7a_studyname_postGGIR_JIVE_1_somefeatures.Rmd</li>
<li>Output folder = ./</li>
</ul>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>part7_studyname_all_features_dictionary.xlsx</td>
<td>Description of features</td>
</tr>
<tr class="even">
<td>part7a_studyname_postGGIR_JIVE_1_somefeatures.html</td>
<td>Extract some features from the actigraphy data using R</td>
</tr>
<tr class="odd">
<td>part7a_studyname_some_features_page1_features.csv</td>
<td>List of some features</td>
</tr>
<tr class="even">
<td>part7a_studyname_some_features_page2_face_day_PCs.csv</td>
<td>Function PCA at the day level using fpca.face( )</td>
</tr>
<tr class="odd">
<td>part7a_studyname_some_features_page3_face_subject_PCs.csv</td>
<td>Function PCA at the subject level using fpca.face( )</td>
</tr>
<tr class="even">
<td>part7a_studyname_some_features_page4_denseFLMM_day_PCs.csv</td>
<td>Function PCA at the day level using denseFLMM( )</td>
</tr>
<tr class="odd">
<td>part7a_studyname_some_features_page5_denseFLMM_subject_PCs.csv</td>
<td>Function PCA at the subject level using denseFLMM( )</td>
</tr>
</tbody>
</table>
</div>
<div id="output-of-part-7b" class="section level2">
<h2>Output of part 7b</h2>
<ul>
<li>Command = part7b_studyname_postGGIR_JIVE_2_allfeatures.Rmd</li>
<li>Output folder = ./</li>
</ul>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>part7b_studyname_postGGIR_JIVE_2_allfeatures.html</td>
<td>Extract other features from the GGIR output and merge all features together</td>
</tr>
<tr class="even">
<td>part7b_studyname_all_features_1.csv</td>
<td>Raw data of all features</td>
</tr>
<tr class="odd">
<td>part7b_studyname_all_features_2.csv</td>
<td>Keep sample with valid ENMO inputs</td>
</tr>
<tr class="even">
<td>part7b_studyname_all_features_2.csv.log</td>
<td>Log file of each variable of part5b_studyname_all_features_2.csv</td>
</tr>
<tr class="odd">
<td>plot_part7b_studyname_all_features_2.csv.pdf</td>
<td>Plot of each variable of part5b_studyname_all_features_2.csv</td>
</tr>
<tr class="even">
<td>part7b_studyname_all_features_3.csv</td>
<td>Average variable at the subject level</td>
</tr>
<tr class="odd">
<td>part7b_studyname_all_features_3.csv.log</td>
<td>Log file of each variable of part5b_studyname_all_features_3.csv</td>
</tr>
<tr class="even">
<td>plot_part7b_studyname_all_features_3.csv.pdf</td>
<td>Plot of each variable of part5b_studyname_all_features_3.csv</td>
</tr>
<tr class="odd">
<td>part7b_studyname_all_features_4.csv</td>
<td>subject level SD of each feature</td>
</tr>
</tbody>
</table>
</div>
<div id="output-of-part-7c" class="section level2">
<h2>Output of part 7c</h2>
<ul>
<li>Command = part7c_studyname_postGGIR_JIVE_3_excelReport.Rmd</li>
<li>Output folder = ./</li>
</ul>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>part7c_studyname_postGGIR_JIVE_3_excelReport.html</td>
<td>Combine all features into one single excel file. This is optional since it might be killed due to the issue of out of memory in a cluster.</td>
</tr>
</tbody>
</table>
</div>
<div id="output-of-part-7d" class="section level2">
<h2>Output of part 7d</h2>
<ul>
<li>Command = part7d_studyname_postGGIR_JIVE_4_outputReport.Rmd</li>
<li>Output folder = ./</li>
</ul>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>part7d_studyname_postGGIR_JIVE_4_outputReport.html</td>
<td>Perform JIVE Decomposition for All Features using r.jive</td>
</tr>
<tr class="even">
<td>part7d_studyname_jive_Decomposition.csv</td>
<td>Joint and individual structure estimates</td>
</tr>
<tr class="odd">
<td>part7d_studyname_jive_predScore.csv</td>
<td>PCA scores of JIVE ( missing when jive.predict failes)</td>
</tr>
<tr class="even">
<td>part7d_studyname_jive_predScore.csv</td>
<td>PCA scores of JIVE ( missing when jive.predict failes)</td>
</tr>
</tbody>
</table>
</div>
<div id="output-of-part-7e" class="section level2">
<h2>Output of part 7e</h2>
<ul>
<li>Command = part7e_studyname_postGGIR_JIVE_5_somefeatures_weekday.Rmd</li>
<li>Output folder = ./</li>
</ul>
<table>
<colgroup>
<col width="27%" />
<col width="72%" />
</colgroup>
<thead>
<tr class="header">
<th>Output</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>part7e_studyname_some_features_page1.csv</td>
<td>Perform JIVE Decomposition for All Features using r.jive</td>
</tr>
<tr class="even">
<td>part7e_weekday_studyname_all_features_3.csv</td>
<td>subject level mean of each feature on weekday</td>
</tr>
<tr class="odd">
<td>part7e_weekday_studyname_some_features_page4_denseFLMM_day_PCs.csv</td>
<td>Function PCA at the day level using denseFLMM( ) on weekday</td>
</tr>
<tr class="even">
<td>part7e_weekday_studyname_some_features_page5_denseFLMM_subject_PCs.csv</td>
<td>Function PCA at the subject level using denseFLMM( ) on weekday</td>
</tr>
<tr class="odd">
<td>part7e_weekend_studyname_all_features_3.csv</td>
<td>subject level mean of each feature on weekend</td>
</tr>
<tr class="even">
<td>part7e_weekend_studyname_some_features_page4_denseFLMM_day_PCs.csv</td>
<td>Function PCA at the day level using denseFLMM( ) on weekend</td>
</tr>
<tr class="odd">
<td>part7e_weekend_studyname_some_features_page5_denseFLMM_subject_PCs.csv</td>
<td>Function PCA at the subject level using denseFLMM( ) on weekend</td>
</tr>
</tbody>
</table>
</div>
<div id="description-of-variables-in-the-output-data" class="section level2">
<h2>Description of variables in the output data</h2>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>filename</td>
<td>accelerometer file name</td>
</tr>
<tr class="even">
<td>Date</td>
<td>date recored from the GGIR part2.summary file</td>
</tr>
<tr class="odd">
<td>id</td>
<td>IDs recored from the GGIR part2.summary file</td>
</tr>
<tr class="even">
<td>calender_date</td>
<td>date in the format of yyyy-mm-dd</td>
</tr>
<tr class="odd">
<td>N.valid.hours</td>
<td>number of hours with valid data recored from the part2_daysummary.csv file in the GGIR output</td>
</tr>
<tr class="even">
<td>N.hours</td>
<td>number of hours of measurement recored from the part2_daysummary.csv file in the GGIR output</td>
</tr>
<tr class="odd">
<td>weekday</td>
<td>day of the week-Day of the week</td>
</tr>
<tr class="even">
<td>measurementday</td>
<td>day of measurement-Day number relative to start of the measurement</td>
</tr>
<tr class="odd">
<td>newID</td>
<td>new IDs defined as the user-defined function of filename2id(), e.g. substrings of the filename</td>
</tr>
<tr class="even">
<td>Nmiss_c9_c31</td>
<td>number of NAs from the 9th to 31th column in the part2_daysummary.csv file in the GGIR output</td>
</tr>
<tr class="odd">
<td>missing</td>
<td>“M” indicates missing for an invalid day, and “C” indicates completeness for a valid day</td>
</tr>
<tr class="even">
<td>Ndays</td>
<td>number of days of measurement</td>
</tr>
<tr class="odd">
<td>ith_day</td>
<td>rank of the measurementday, for example, the value is 1,2,3,4,-3,-2,-1 for measurementday = 1,…,7</td>
</tr>
<tr class="even">
<td>Nmiss</td>
<td>number of missing (invalid) days</td>
</tr>
<tr class="odd">
<td>Nnonmiss</td>
<td>number of non-missing (valid) days</td>
</tr>
<tr class="even">
<td>misspattern</td>
<td>indicators of missing/nonmissing for all measurement days at the subject level</td>
</tr>
<tr class="odd">
<td>RowNonWear</td>
<td>number of columnns in the non-wearing matrix</td>
</tr>
<tr class="even">
<td>NonWearMin</td>
<td>number of minutes of non-wearing</td>
</tr>
<tr class="odd">
<td>remove16h7day</td>
<td>indicator of a key qulity control output. If remove16h7day=1, the day need to be removed. If remove16h7day=0, the day need to be kept.</td>
</tr>
<tr class="even">
<td>duplicate</td>
<td>If duplicate=“remove”, the accelerometer files will not be used in the data analysis of part5.</td>
</tr>
<tr class="odd">
<td>ImpuMiss.b</td>
<td>number of missing values on the ENMO data before imputation</td>
</tr>
<tr class="even">
<td>ImpuMiss.a</td>
<td>number of missing values on the ENMO data after imputation</td>
</tr>
<tr class="odd">
<td>KEEP</td>
<td>The value is “keep”/“remove”, e.g. KEEP=“remove” if remove16h7day=1 or duplicate=“remove” or ImpuMiss.a&gt;0</td>
</tr>
</tbody>
</table>
</div>
<div id="description-of-features-of-domains-of-physical-activity-sleep-and-circadian-rhythmicity" class="section level2">
<h2>Description of features of domains of physical activity, sleep and circadian rhythmicity</h2>
<p><strong>Sleep Domain</strong></p>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
sleeponset
</td>
<td style="text-align:left;">
Detected onset of sleep expressed as hours since the midnight of the previous night.
</td>
</tr>
<tr>
<td style="text-align:left;">
wakeup
</td>
<td style="text-align:left;">
Detected waking time (after sleep period) expressed as hours since the midnight of the previous night.
</td>
</tr>
<tr>
<td style="text-align:left;">
number_sib_wakinghours
</td>
<td style="text-align:left;">
Number of sustained inactivity bouts during the day, with day referring to the time outside the Sleep Period Time window.
</td>
</tr>
<tr>
<td style="text-align:left;">
SleepDurationInSpt
</td>
<td style="text-align:left;">
Total sleep duration, which equals the accumulated nocturnal sustained inactivity bouts within the Sleep Period Time
</td>
</tr>
<tr>
<td style="text-align:left;">
sleep_Midpoint
</td>
<td style="text-align:left;">
Sleep Midpoint
</td>
</tr>
<tr>
<td style="text-align:left;">
sleep_efficiency
</td>
<td style="text-align:left;">
Sleep Efficiency
</td>
</tr>
<tr>
<td style="text-align:left;">
N_atleast5minwakenight
</td>
<td style="text-align:left;">
Number of times awake during the night for at least 5 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
ACC_spt_sleep_mg
</td>
<td style="text-align:left;">
Average acceleration during sleep (mg)
</td>
</tr>
<tr>
<td style="text-align:left;">
Nblocks_spt_sleep
</td>
<td style="text-align:left;">
Number of blocks of night sleep within the Sleep period time window.
</td>
</tr>
</tbody>
</table>
<p><strong>Physical Activity Domain</strong></p>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
TAC
</td>
<td style="text-align:left;">
Total volume of physical activity
</td>
</tr>
<tr>
<td style="text-align:left;">
TLAC
</td>
<td style="text-align:left;">
Total volume of log-transformed physical activity
</td>
</tr>
<tr>
<td style="text-align:left;">
sed_time
</td>
<td style="text-align:left;">
Total daytime duration in minutes of sedentary activity
</td>
</tr>
<tr>
<td style="text-align:left;">
light_time
</td>
<td style="text-align:left;">
Total daytime duration in minutes of light activity
</td>
</tr>
<tr>
<td style="text-align:left;">
mod_time
</td>
<td style="text-align:left;">
Total daytime duration in minutes of moderate activity
</td>
</tr>
<tr>
<td style="text-align:left;">
vig_time
</td>
<td style="text-align:left;">
Total daytime duration in minutes of vigorous activity
</td>
</tr>
<tr>
<td style="text-align:left;">
MVPA_time
</td>
<td style="text-align:left;">
Total daytime duration in minutes of moderate to vigorous activity
</td>
</tr>
<tr>
<td style="text-align:left;">
activity_time
</td>
<td style="text-align:left;">
Total daytime duration in minutes of light/moderate/vigorous activity
</td>
</tr>
<tr>
<td style="text-align:left;">
sed_time_M10
</td>
<td style="text-align:left;">
Total duration in minutes of sedentary activity within M10 window
</td>
</tr>
<tr>
<td style="text-align:left;">
light_time_M10
</td>
<td style="text-align:left;">
Total duration in minutes of light activity within M10 window
</td>
</tr>
<tr>
<td style="text-align:left;">
mod_time_M10
</td>
<td style="text-align:left;">
Total duration in minutes of moderate activity within M10 window
</td>
</tr>
<tr>
<td style="text-align:left;">
vig_time_M10
</td>
<td style="text-align:left;">
Total duration in minutes of vigorous activity within M10 window
</td>
</tr>
<tr>
<td style="text-align:left;">
MVPA_time_M10
</td>
<td style="text-align:left;">
Total duration in minutes of moderate to vigorous activity within M10 window
</td>
</tr>
<tr>
<td style="text-align:left;">
activity_time_M10
</td>
<td style="text-align:left;">
Total duration in minutes of light/moderate/vigorous activity within M10 window
</td>
</tr>
<tr>
<td style="text-align:left;">
sed_time_24h
</td>
<td style="text-align:left;">
Total duration in minutes of sedentary activity within 24 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
light_time_24h
</td>
<td style="text-align:left;">
Total duration in minutes of light activity within 24 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
mod_time_24h
</td>
<td style="text-align:left;">
Total duration in minutes of moderate activity within 24 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
vig_time_24h
</td>
<td style="text-align:left;">
Total duration in minutes of vigorous activity within 24 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
MVPA_time_24h
</td>
<td style="text-align:left;">
Total duration in minutes of moderate to vigorous activity within 24 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
activity_time_24h
</td>
<td style="text-align:left;">
Total duration in minutes of light/moderate/vigorous activity within 24 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
mean_r
</td>
<td style="text-align:left;">
average bout duration (resting)
</td>
</tr>
<tr>
<td style="text-align:left;">
mean_a
</td>
<td style="text-align:left;">
average bout duration (active)
</td>
</tr>
<tr>
<td style="text-align:left;">
SATP
</td>
<td style="text-align:left;">
sedentary-to-active transition probabilities
</td>
</tr>
<tr>
<td style="text-align:left;">
ASTP
</td>
<td style="text-align:left;">
active-to-sedentary transition probabilities
</td>
</tr>
<tr>
<td style="text-align:left;">
Gini_r
</td>
<td style="text-align:left;">
Gini index, absolute variability normalized to the average bout duration (resting)
</td>
</tr>
<tr>
<td style="text-align:left;">
Gini_a
</td>
<td style="text-align:left;">
Gini index, absolute variability normalized to the average bout duration (active)
</td>
</tr>
<tr>
<td style="text-align:left;">
alpha_r
</td>
<td style="text-align:left;">
power-law distribution parameter (resting)
</td>
</tr>
<tr>
<td style="text-align:left;">
alpha_a
</td>
<td style="text-align:left;">
power-law distribution parameter (active)
</td>
</tr>
<tr>
<td style="text-align:left;">
h_r
</td>
<td style="text-align:left;">
average hazard (resting)
</td>
</tr>
<tr>
<td style="text-align:left;">
h_a
</td>
<td style="text-align:left;">
average hazard (active)
</td>
</tr>
<tr>
<td style="text-align:left;">
dur_day_total_IN_min
</td>
<td style="text-align:left;">
Total duration of day in minutes spent in total inactivity during the day
</td>
</tr>
<tr>
<td style="text-align:left;">
dur_day_total_LIG_min
</td>
<td style="text-align:left;">
Total duration of day in minutes of light activity during the day
</td>
</tr>
<tr>
<td style="text-align:left;">
dur_day_total_MOD_min
</td>
<td style="text-align:left;">
Total duration of day in minutes of moderate activity during the day
</td>
</tr>
<tr>
<td style="text-align:left;">
dur_day_total_VIG_min
</td>
<td style="text-align:left;">
Total duration of day in minutes of vigorous activity during the day
</td>
</tr>
<tr>
<td style="text-align:left;">
dur_day_MVPA_bts_10_min
</td>
<td style="text-align:left;">
Total duration in minutes of Moderate and Vigorous Physical Activity (MVPA) for bouts 10 minutes or more
</td>
</tr>
<tr>
<td style="text-align:left;">
dur_day_MVPA_bts_5_10_min
</td>
<td style="text-align:left;">
Total duration in minutes of Moderate and Vigorous Physical Activity (MVPA) for bouts 5 to 10 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
dur_day_MVPA_bts_1_5_min
</td>
<td style="text-align:left;">
Total duration in minutes of Moderate and Vigorous Physical Activity (MVPA) for bouts 1 to 5 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_IN_bts_30
</td>
<td style="text-align:left;">
Number of bouts of inactivity for bouts 30 minutes or more
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_IN_bts_20_30
</td>
<td style="text-align:left;">
Number of bouts of inactivity for bouts 20 to 30 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_IN_bts_10_20
</td>
<td style="text-align:left;">
Number of bouts of inactivity for bouts 10 to 20 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_LIG_bts_10
</td>
<td style="text-align:left;">
Number of bouts of light for bouts 10 minutes or more
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_LIG_bts_5_10
</td>
<td style="text-align:left;">
Number of bouts of light for bouts 5 to 10 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_LIG_bts_1_5
</td>
<td style="text-align:left;">
Number of bouts of light for bouts 1 to 5 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_MVPA_bts_10
</td>
<td style="text-align:left;">
Number of bouts of Moderate and Vigorous Physical Activity (MVPA) for bouts 10 minutes or more
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_MVPA_bts_5_10
</td>
<td style="text-align:left;">
Number of bouts of Moderate and Vigorous Physical Activity (MVPA) for bouts 5 to 10 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
Nbouts_day_MVPA_bts_1_5
</td>
<td style="text-align:left;">
Number of bouts of Moderate and Vigorous Physical Activity (MVPA) for bouts 1 to 5 minutes
</td>
</tr>
<tr>
<td style="text-align:left;">
Nblocks_day_total_IN
</td>
<td style="text-align:left;">
Number of blocks of total inactivity during day
</td>
</tr>
<tr>
<td style="text-align:left;">
Nblocks_day_total_LIG
</td>
<td style="text-align:left;">
Number of blocks of total light activity during day
</td>
</tr>
<tr>
<td style="text-align:left;">
Nblocks_day_total_MOD
</td>
<td style="text-align:left;">
Number of blocks of total moderate activity during day
</td>
</tr>
<tr>
<td style="text-align:left;">
Nblocks_day_total_VIG
</td>
<td style="text-align:left;">
Number of blocks of total vigorous activity during day
</td>
</tr>
</tbody>
</table>
<p><strong>Circadian Rhythmicity Domain</strong></p>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
RA_ggir
</td>
<td style="text-align:left;">
Relative amplitude: (M10VALUE-L5VALUE)/(M10VALUE+L5VALUE) where M10VALUE= most active 10 hrs, L5VALUE = least active 5 hour from GGIR output.
</td>
</tr>
<tr>
<td style="text-align:left;">
RA
</td>
<td style="text-align:left;">
Relative amplitude: (M10-L5)/(M10+L5) where M10= most active 10 hrs, L5 = least active 5 hour.
</td>
</tr>
<tr>
<td style="text-align:left;">
L5TIME_num
</td>
<td style="text-align:left;">
Time of the lowest acceleration value of the lowest acceleration 5 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
M10TIME_num
</td>
<td style="text-align:left;">
Time of the highest acceleration value of the highest acceleration 10 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
L5VALUE
</td>
<td style="text-align:left;">
Average acceleration value (mg) of the lowest Average acceleration 5 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
M10VALUE
</td>
<td style="text-align:left;">
Average acceleration value (mg) of the lowest Average acceleration value in highest Average acceleration 10 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
M10
</td>
<td style="text-align:left;">
Average acceleration value (mg) of the lowest Average acceleration value in highest Average acceleration 10 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
L5
</td>
<td style="text-align:left;">
Average acceleration value (mg) of the lowest Average acceleration 5 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
L5TIME
</td>
<td style="text-align:left;">
Time of the lowest acceleration value of the lowest acceleration 5 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
M10TIME
</td>
<td style="text-align:left;">
Time of the highest acceleration value of the highest acceleration 10 hours
</td>
</tr>
<tr>
<td style="text-align:left;">
IV_intradailyvariability
</td>
<td style="text-align:left;">
Intra-daily variability measures fragmentation in the rest/activity rhythms
</td>
</tr>
<tr>
<td style="text-align:left;">
IS_interdailystability
</td>
<td style="text-align:left;">
Inter-daily stability measures fragmentation in the rest/activity rhythms
</td>
</tr>
<tr>
<td style="text-align:left;">
IV
</td>
<td style="text-align:left;">
Intra-daily variability measures fragmentation in the rest/activity rhythms
</td>
</tr>
<tr>
<td style="text-align:left;">
IS
</td>
<td style="text-align:left;">
Inter-daily stability measures fragmentation in the rest/activity rhythms
</td>
</tr>
<tr>
<td style="text-align:left;">
mesor
</td>
<td style="text-align:left;">
mesor (a rhythm-adjusted mean)
</td>
</tr>
<tr>
<td style="text-align:left;">
amp
</td>
<td style="text-align:left;">
amplitude (a measure of variability around the mean)
</td>
</tr>
<tr>
<td style="text-align:left;">
acro
</td>
<td style="text-align:left;">
acrophase (the timing of the peak activity)
</td>
</tr>
<tr>
<td style="text-align:left;">
mesor_L
</td>
<td style="text-align:left;">
mesor log-transformed
</td>
</tr>
<tr>
<td style="text-align:left;">
amp_L
</td>
<td style="text-align:left;">
amplitude log-transformed
</td>
</tr>
<tr>
<td style="text-align:left;">
acro_L
</td>
<td style="text-align:left;">
acrophase log-transformed
</td>
</tr>
<tr>
<td style="text-align:left;">
PC1
</td>
<td style="text-align:left;">
1st principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC2
</td>
<td style="text-align:left;">
2nd principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC3
</td>
<td style="text-align:left;">
3rd principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC4
</td>
<td style="text-align:left;">
4th principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC5
</td>
<td style="text-align:left;">
5th principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC6
</td>
<td style="text-align:left;">
6th principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC7
</td>
<td style="text-align:left;">
7th principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC8
</td>
<td style="text-align:left;">
8th principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC9
</td>
<td style="text-align:left;">
9th principal component score from fPCA
</td>
</tr>
<tr>
<td style="text-align:left;">
PC10
</td>
<td style="text-align:left;">
10th principal component score from fPCA
</td>
</tr>
</tbody>
</table>
<p>Reference:</p>
<ul>
<li></li>
</ul>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
